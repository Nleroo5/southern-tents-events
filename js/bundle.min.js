function debounce(e,t=300){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}}function throttle(e,t=100){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout(()=>n=!1,t))}}function isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function scrollToElement(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}const validators={required:e=>""!==e.trim(),email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),phone:e=>/^[\d\s\-\(\)]+$/.test(e)&&e.replace(/\D/g,"").length>=10,minLength:(e,t)=>e.length>=t,maxLength:(e,t)=>e.length<=t};function formatPhoneNumber(e){const t=e.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e}const storage={set:(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error("Error saving to localStorage:",e),!1}},get:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Error reading from localStorage:",e),null}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return console.error("Error removing from localStorage:",e),!1}}};function lazyLoadImages(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}function initMobileNav(){const e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-menu"),n=document.querySelector(".nav-close"),o=document.querySelectorAll(".nav-link"),r=document.querySelector(".nav-menu-list");if(!e||!t)return;let i=0;e.addEventListener("click",()=>{t.classList.contains("active")?a():(i=window.pageYOffset,e.classList.add("active"),t.classList.add("active"),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${i}px`,document.body.style.width="100%",e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Close navigation menu"))});const a=()=>{e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,i),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Open navigation menu")};let l;n&&n.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a()}),o.forEach(e=>{e.addEventListener("click",()=>{setTimeout(a,150)})}),t.addEventListener("click",e=>{e.target===t&&a()}),r&&r.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&a()}),window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{window.innerWidth>768&&t.classList.contains("active")&&a()},250)})}function initHeaderScroll(){const e=document.querySelector(".header");if(!e)return;const t=throttle(()=>{const t=document.body.classList.contains("home")||document.body.classList.contains("services")||document.body.classList.contains("gallery")||document.body.classList.contains("faq")||document.body.classList.contains("contact")||document.body.classList.contains("terms"),n=document.querySelector(".hero"),o=t&&n?n.offsetHeight:50;window.scrollY>o?e.classList.add("header-scrolled"):e.classList.remove("header-scrolled")},100);window.addEventListener("scroll",t)}function initActiveNav(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-link"),n=throttle(()=>{let n="";e.forEach(e=>{const t=e.offsetTop;e.clientHeight;window.pageYOffset>=t-100&&(n=e.getAttribute("id"))}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${n}`&&e.classList.add("active")})},100);window.addEventListener("scroll",n)}function initFormValidation(){document.querySelectorAll("form[data-validate]").forEach(e=>{e.addEventListener("submit",async t=>{t.preventDefault();const n=e.querySelectorAll(".form-group");let o=!0;if(n.forEach(e=>{e.classList.remove("error");const t=e.querySelector(".form-error");t&&(t.textContent="")}),n.forEach(e=>{const t=e.querySelector("input, textarea, select");if(!t)return;const n=e.querySelector(".form-error"),r=e.querySelector(".form-label"),i=r?r.textContent.replace("*","").trim():"This field";t.hasAttribute("required")&&!validators.required(t.value)&&(o=!1,e.classList.add("error"),n&&(n.textContent=`${i} is required`)),"email"===t.type&&t.value&&!validators.email(t.value)&&(o=!1,e.classList.add("error"),n&&(n.textContent="Please enter a valid email address")),"tel"===t.type&&t.value&&!validators.phone(t.value)&&(o=!1,e.classList.add("error"),n&&(n.textContent="Please enter a valid phone number"))}),o){const t=new FormData(e),n=(Object.fromEntries(t.entries()),e.querySelector('button[type="submit"]')),o=n.textContent;n.disabled=!0,n.innerHTML='<span class="spinner"></span> Sending...';try{await new Promise(e=>setTimeout(e,1500)),showAlert("success","Thank you! Your message has been sent successfully. We'll get back to you soon."),e.reset()}catch(e){showAlert("error","Sorry, there was an error sending your message. Please try again or call us directly.")}finally{n.disabled=!1,n.textContent=o}}else{const t=e.querySelector(".form-group.error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}});e.querySelectorAll("input, textarea, select").forEach(e=>{e.addEventListener("blur",()=>{const t=e.closest(".form-group");if(!t)return;const n=t.querySelector(".form-error"),o=t.querySelector(".form-label"),r=o?o.textContent.replace("*","").trim():"This field";t.classList.remove("error"),n&&(n.textContent=""),e.hasAttribute("required")&&!validators.required(e.value)?(t.classList.add("error"),n&&(n.textContent=`${r} is required`)):"email"===e.type&&e.value&&!validators.email(e.value)?(t.classList.add("error"),n&&(n.textContent="Please enter a valid email address")):"tel"===e.type&&e.value&&!validators.phone(e.value)&&(t.classList.add("error"),n&&(n.textContent="Please enter a valid phone number"))}),"tel"===e.type&&e.addEventListener("input",debounce(e=>{const t=formatPhoneNumber(e.target.value);t!==e.target.value&&(e.target.value=t)},300))})})}function showAlert(e,t){const n=`\n    <div class="alert alert-${e} fade-in" role="alert" id="alert-notification">\n      ${t}\n    </div>\n  `,o=document.getElementById("alert-notification");o&&o.remove();(document.querySelector("main")||document.body).insertAdjacentHTML("afterbegin",n),setTimeout(()=>{const e=document.getElementById("alert-notification");e&&(e.style.opacity="0",setTimeout(()=>e.remove(),300))},5e3)}function initGallery(){document.querySelectorAll(".gallery-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.querySelector("img");if(!t)return;const n=document.createElement("div");if(n.className="lightbox",n.innerHTML=`\n        <div class="lightbox-backdrop"></div>\n        <div class="lightbox-content">\n          <button class="lightbox-close" aria-label="Close">&times;</button>\n          <img src="${t.src}" alt="${t.alt}">\n        </div>\n      `,document.body.appendChild(n),document.body.style.overflow="hidden",!document.getElementById("lightbox-styles")){const e=document.createElement("style");e.id="lightbox-styles",e.textContent="\n          .lightbox {\n            position: fixed;\n            inset: 0;\n            z-index: var(--z-modal);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: var(--space-4);\n          }\n          .lightbox-backdrop {\n            position: absolute;\n            inset: 0;\n            background-color: rgba(0, 0, 0, 0.9);\n          }\n          .lightbox-content {\n            position: relative;\n            z-index: 1;\n            max-width: 90vw;\n            max-height: 90vh;\n          }\n          .lightbox img {\n            max-width: 100%;\n            max-height: 90vh;\n            object-fit: contain;\n            border-radius: var(--radius-lg);\n          }\n          .lightbox-close {\n            position: absolute;\n            top: -40px;\n            right: 0;\n            background: transparent;\n            color: white;\n            font-size: var(--text-4xl);\n            cursor: pointer;\n            padding: var(--space-2);\n            line-height: 1;\n          }\n        ",document.head.appendChild(e)}const o=()=>{n.remove(),document.body.style.overflow=""};n.querySelector(".lightbox-close").addEventListener("click",o),n.querySelector(".lightbox-backdrop").addEventListener("click",o);const r=e=>{"Escape"===e.key&&(o(),document.removeEventListener("keydown",r))};document.addEventListener("keydown",r)})})}function initScrollAnimations(){const e=document.querySelectorAll("[data-animate]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target.dataset.animate;e.target.classList.add(n),t.unobserve(e.target)}})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});e.forEach(e=>t.observe(e))}function initServicesAnchorScroll(){function e(e,t=!1){const n=document.querySelector(e);if(!n)return;const o=n.querySelector("h2");if(!o)return;const r=function(){const e=window.innerWidth;return e<481?161:e<768?181:211}();let i=0;"#furniture"===e?i=150:"#lighting"===e&&(i=200);const a=(window.pageYOffset||document.documentElement.scrollTop)+o.getBoundingClientRect().top-r+i;window.scrollTo({top:a,behavior:t?"smooth":"instant"})}document.body.classList.contains("services")&&(window.location.hash&&("scrollRestoration"in history&&(history.scrollRestoration="manual"),setTimeout(()=>{e(window.location.hash,!1)},100)),document.addEventListener("click",t=>{const n=t.target.closest('a[href^="#"]');if(!n)return;const o=n.getAttribute("href");"#"!==o&&(t.preventDefault(),e(o,!0),history.pushState(null,null,o))}),window.addEventListener("hashchange",()=>{window.location.hash&&e(window.location.hash)}))}"undefined"!=typeof module&&module.exports&&(module.exports={debounce:debounce,throttle:throttle,isInViewport:isInViewport,scrollToElement:scrollToElement,validators:validators,formatPhoneNumber:formatPhoneNumber,storage:storage,lazyLoadImages:lazyLoadImages}),"undefined"!=typeof module&&module.exports&&(module.exports={initMobileNav:initMobileNav,initHeaderScroll:initHeaderScroll,initActiveNav:initActiveNav,initFormValidation:initFormValidation,showAlert:showAlert,initGallery:initGallery,initScrollAnimations:initScrollAnimations,initServicesAnchorScroll:initServicesAnchorScroll}),document.addEventListener("DOMContentLoaded",()=>{initMobileNav(),initHeaderScroll(),initActiveNav(),initFormValidation(),initGallery(),initScrollAnimations(),initServicesAnchorScroll(),lazyLoadImages(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||""===t)return;e.preventDefault();const n=document.querySelector(t);n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,t))})});const e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear())});